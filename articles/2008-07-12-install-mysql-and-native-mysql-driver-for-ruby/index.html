<!DOCTYPE html>
<html lang="en-US">
  <head>
      <meta charset="utf-8">
      <title>Install MySQL and native MySQL driver for Ruby - blindgaenger</title>
      
      <link rel="stylesheet" href="/stylesheets/reset.css">
      <link rel="stylesheet" href="/stylesheets/app.css">
      <link rel="canonical" href="http://blindgaenger.net/articles/2008-07-12-install-mysql-and-native-mysql-driver-for-ruby/">
      <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
      <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  </head>
  <body lang="en">
    <header class="page__header">
      <h1>blindgaenger</h1>
    </header>
    <nav class="page__nav">
      <ul>
        <li><a href="http://blindgaenger.net/">Home</a></li>
        <li><a href="/articles/">Articles</a></li>
        <li><a href="/tags/">Tags</a></li>
      </ul>
    </nav>
    <main role="main" class="page__content">


<article class="article article--full">
  <header class="article__header">
    <h1>Install MySQL and native MySQL driver for Ruby</h1>
  </header>
  <div class="article__content">
    

<h1 id="mysql-installation:a28cf0bf75fb9c34da84e47e96ff6692">MySQL Installation</h1>

<p>Linux is pretty straight forward, so install with <code>apt-get</code> as usual.
{{bash
$ sudo apt-get install mysql mysql-client mysql-server
}}</p>

<p>For the developers on Windows, go to the <a href="http://dev.mysql.com/downloads/mysql/5.0.html">MySQL Homepage</a>.
Scroll down to <code>Windows downloads</code> and download the <code>Windows ZIP/Setup.EXE (x86)</code> file.</p>

<p>Follow the setup instructions.</p>

<h1 id="building-native-mysql-driver-for-ruby:a28cf0bf75fb9c34da84e47e96ff6692">Building native MySQL driver for Ruby</h1>

<p>It&rsquo;s much faster and more secure to use a native database driver to MySQL.
Otherwise Ruby will use its internal default driver.</p>

<p>So install the Ruby binding for MySQL Server:
{{bash
$ sudo apt-get install libmysql-ruby
Reading Package Lists&hellip; Done
Building Dependency Tree&hellip; Done
0 upgraded, 0 newly installed, 1 reinstalled, 0 to remove and 50 not upgraded.
Need to get 0B/4984B of archives.
After unpacking 0B of additional disk space will be used.
Do you want to continue? <a href="Reading database ... 40083 files and directories currently installed.">Y/n</a>
Preparing to replace libmysql-ruby 2.7.1-1 (using &hellip;/libmysql-ruby_2.7.1-1_all.deb) &hellip;
Unpacking replacement libmysql-ruby &hellip;
Setting up libmysql-ruby (2.7.1-1) &hellip;
}}</p>

<p>Now try to install the gem for the mysql driver. It builds the native driver
against the MySQL binding.</p>

<p>If you miss the packages you may see something like this:
{{bash
$ sudo gem install mysql
Building native extensions.  This could take a while&hellip;
ERROR:  Error installing mysql:
    ERROR: Failed to build gem native extension.</p>

<p>/usr/local/bin/ruby extconf.rb install mysql
checking for mysql_query() in -lmysqlclient&hellip; no
checking for main() in -lm&hellip; yes
checking for mysql_query() in -lmysqlclient&hellip; no
checking for main() in -lz&hellip; yes
checking for mysql_query() in -lmysqlclient&hellip; no
checking for main() in -lsocket&hellip; no
checking for mysql_query() in -lmysqlclient&hellip; no
checking for main() in -lnsl&hellip; yes
checking for mysql_query() in -lmysqlclient&hellip; no
* extconf.rb failed *
Could not create Makefile due to some reason, probably lack of
necessary libraries and/or headers.  Check the mkmf.log file for more
details.  You may need configuration options.</p>

<p>Provided configuration options:
    &ndash;with-opt-dir
    &ndash;without-opt-dir
    â€¦
    &ndash;without-mysqlclientlib</p>

<p>Gem files will remain installed in /usr/local/lib/ruby/gems/1.8/gems/mysql-2.7 for inspection.
Results logged to /usr/local/lib/ruby/gems/1.8/gems/mysql-2.7/gem_make.out
}}</p>

<p>If the error above occures, you need to install the development packages, too.
{{bash
$ sudo apt-get install libmysqlclient15-dev
}}</p>

<p>Now the mysql gem should work and the native driver is available. It&rsquo;s
automatically used as default MySQL driver, for example in all rails apps.
{{bash
$ sudo gem install mysql
Building native extensions.  This could take a while&hellip;
Successfully installed mysql-2.7
1 gem installed
}}</p>

  </div>
  <footer class="article__footer">
    <div>Words: 383</div>
    <div>Published: 0001-01-01</div>
    <div>ReadingTime: 2 min</div>
    <div>URL: http://blindgaenger.net/articles/2008-07-12-install-mysql-and-native-mysql-driver-for-ruby/</div>
  </footer>
</article>

    </main>
    <footer class="page__footer">
      <div>FOOTER</div>
    </footer>
  </body>
</html>

